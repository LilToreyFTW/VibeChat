{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Typography,Box,Card,CardContent,Button,Chip,Dialog,DialogTitle,DialogContent,DialogActions,TextField,Alert,Grid,List,ListItem,ListItemText,ListItemIcon}from'@mui/material';import{Star as StarIcon,Check as CheckIcon,Payment as PaymentIcon,Speed as SpeedIcon,Hd as HdIcon,FourK as FourKIcon}from'@mui/icons-material';import{useAuthStore}from'../../store/authStore';import{useSubscriptionStore}from'../../store/subscriptionStore';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SubscriptionManager=()=>{const{user}=useAuthStore();const{subscriptions,availableTiers,isLoading,error,fetchSubscriptions,fetchAvailableTiers,purchaseSubscription,cancelSubscription,clearError}=useSubscriptionStore();const[selectedTier,setSelectedTier]=useState('');const[paymentDialogOpen,setPaymentDialogOpen]=useState(false);const[btcTransactionId,setBtcTransactionId]=useState('');const[processingPayment,setProcessingPayment]=useState(false);useEffect(()=>{fetchSubscriptions();fetchAvailableTiers();},[fetchSubscriptions,fetchAvailableTiers]);const handlePurchase=async tier=>{setSelectedTier(tier);setPaymentDialogOpen(true);};const handlePaymentConfirm=async()=>{if(!btcTransactionId.trim()){return;}setProcessingPayment(true);try{await purchaseSubscription({tier:selectedTier,paymentMethod:'BTC',btcTransactionId:btcTransactionId.trim()});setPaymentDialogOpen(false);setBtcTransactionId('');setSelectedTier('');}catch(error){console.error('Payment failed:',error);}finally{setProcessingPayment(false);}};const handleCancelSubscription=async subscriptionId=>{try{await cancelSubscription(subscriptionId);}catch(error){console.error('Cancellation failed:',error);}};const getTierIcon=tier=>{switch(tier){case'BOOST_PLUS_TIER_2':return/*#__PURE__*/_jsx(SpeedIcon,{});case'BOOST_PLUS_TIER_3':return/*#__PURE__*/_jsx(HdIcon,{});case'BOOST_PLUS_TIER_4':return/*#__PURE__*/_jsx(FourKIcon,{});case'BOOST_PLUS_TIER_5':return/*#__PURE__*/_jsx(StarIcon,{});default:return/*#__PURE__*/_jsx(CheckIcon,{});}};const getTierColor=tier=>{switch(tier){case'BOOST_PLUS_TIER_2':return'primary';case'BOOST_PLUS_TIER_3':return'secondary';case'BOOST_PLUS_TIER_4':return'warning';case'BOOST_PLUS_TIER_5':return'error';default:return'default';}};const getTierDisplayName=tier=>{const tierInfo=availableTiers[tier];return(tierInfo===null||tierInfo===void 0?void 0:tierInfo.name)||tier;};const getTierFeatures=tier=>{const tierInfo=availableTiers[tier];return(tierInfo===null||tierInfo===void 0?void 0:tierInfo.features)||'';};if(isLoading&&subscriptions.length===0){return/*#__PURE__*/_jsx(Container,{maxWidth:\"lg\",children:/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',mt:4},children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})})});}return/*#__PURE__*/_jsx(Container,{maxWidth:\"lg\",children:/*#__PURE__*/_jsxs(Box,{sx:{mt:4,mb:4},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:4},children:[/*#__PURE__*/_jsx(PaymentIcon,{sx:{fontSize:40,color:'primary.main',mr:2}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,className:\"gradient-text\",children:\"BOOST+ Subscriptions\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",children:\"Unlock premium streaming features and enhanced capabilities\"})]})]}),subscriptions.length>0&&/*#__PURE__*/_jsx(Card,{sx:{mb:4},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Your Active Subscriptions\"}),/*#__PURE__*/_jsx(List,{children:subscriptions.map(subscription=>/*#__PURE__*/_jsxs(ListItem,{divider:true,children:[/*#__PURE__*/_jsx(ListItemIcon,{children:getTierIcon(subscription.tier)}),/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:getTierDisplayName(subscription.tier)}),/*#__PURE__*/_jsx(Chip,{label:subscription.status,color:subscription.status==='ACTIVE'?'success':'default',size:\"small\"})]}),secondary:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:subscription.features}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"text.secondary\",children:[\"Valid until: \",new Date(subscription.endDate||'').toLocaleDateString()]})]})}),subscription.status==='ACTIVE'&&/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"error\",size:\"small\",onClick:()=>handleCancelSubscription(subscription.id),children:\"Cancel\"})]},subscription.id))})]})}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Available BOOST+ Tiers\"}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:Object.entries(availableTiers).filter(_ref=>{let[tier]=_ref;return tier!=='FREE';}).map(_ref2=>{let[tier,tierInfo]=_ref2;return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(Card,{className:\"card-3d\",sx:{height:'100%',position:'relative',overflow:'hidden',background:\"linear-gradient(135deg, \".concat(tier==='BOOST_PLUS_TIER_2'?'#8B5CF6':tier==='BOOST_PLUS_TIER_3'?'#EC4899':tier==='BOOST_PLUS_TIER_4'?'#F59E0B':'#EF4444',\" 0%, rgba(15, 23, 42, 0.9) 100%)\")},children:/*#__PURE__*/_jsxs(CardContent,{sx:{height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:2},children:[getTierIcon(tier),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{ml:1,color:'white'},children:tierInfo.name})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",sx:{color:'white',mb:2},children:[\"$\",tierInfo.price,/*#__PURE__*/_jsx(Typography,{variant:\"body2\",component:\"span\",sx:{color:'rgba(255,255,255,0.7)'},children:\"/month\"})]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{color:'rgba(255,255,255,0.8)',mb:2,flexGrow:1},children:tierInfo.features}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",fullWidth:true,onClick:()=>handlePurchase(tier),disabled:subscriptions.some(sub=>sub.tier===tier&&sub.status==='ACTIVE'),sx:{background:'rgba(255,255,255,0.2)',color:'white',border:'1px solid rgba(255,255,255,0.3)','&:hover':{background:'rgba(255,255,255,0.3)'}},children:subscriptions.some(sub=>sub.tier===tier&&sub.status==='ACTIVE')?'Already Subscribed':'Subscribe Now'})]})})},tier);})}),/*#__PURE__*/_jsxs(Dialog,{open:paymentDialogOpen,onClose:()=>setPaymentDialogOpen(false),maxWidth:\"sm\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsx(PaymentIcon,{}),\"Purchase BOOST+ Subscription\"]})}),/*#__PURE__*/_jsx(DialogContent,{children:selectedTier&&availableTiers[selectedTier]&&/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:availableTiers[selectedTier].name}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:3},children:availableTiers[selectedTier].features}),/*#__PURE__*/_jsx(Alert,{severity:\"info\",sx:{mb:3},children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Bitcoin Payment Required\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Send $\",availableTiers[selectedTier].price,\" to wallet: \",/*#__PURE__*/_jsx(\"code\",{children:\"1M9mactBVv4ygScFxzHbEsXHcvvH8WrvPG\"})]})}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Bitcoin Transaction ID\",value:btcTransactionId,onChange:e=>setBtcTransactionId(e.target.value),placeholder:\"Enter your BTC transaction ID\",sx:{mb:2}}),/*#__PURE__*/_jsx(Alert,{severity:\"warning\",children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Please wait for 1-3 confirmations before entering your transaction ID. Your subscription will be activated once payment is verified.\"})})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setPaymentDialogOpen(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handlePaymentConfirm,variant:\"contained\",disabled:!btcTransactionId.trim()||processingPayment,children:processingPayment?'Processing...':'Confirm Payment'})]})]}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mt:2},onClose:clearError,children:error})]})});};export default SubscriptionManager;","map":{"version":3,"names":["React","useState","useEffect","Container","Typography","Box","Card","CardContent","Button","Chip","Dialog","DialogTitle","DialogContent","DialogActions","TextField","Alert","Grid","List","ListItem","ListItemText","ListItemIcon","Star","StarIcon","Check","CheckIcon","Payment","PaymentIcon","Speed","SpeedIcon","Hd","HdIcon","FourK","FourKIcon","useAuthStore","useSubscriptionStore","jsx","_jsx","jsxs","_jsxs","SubscriptionManager","user","subscriptions","availableTiers","isLoading","error","fetchSubscriptions","fetchAvailableTiers","purchaseSubscription","cancelSubscription","clearError","selectedTier","setSelectedTier","paymentDialogOpen","setPaymentDialogOpen","btcTransactionId","setBtcTransactionId","processingPayment","setProcessingPayment","handlePurchase","tier","handlePaymentConfirm","trim","paymentMethod","console","handleCancelSubscription","subscriptionId","getTierIcon","getTierColor","getTierDisplayName","tierInfo","name","getTierFeatures","features","length","maxWidth","children","sx","display","justifyContent","mt","className","mb","alignItems","fontSize","color","mr","variant","component","gutterBottom","map","subscription","divider","primary","gap","label","status","size","secondary","Date","endDate","toLocaleDateString","onClick","id","container","spacing","Object","entries","filter","_ref","_ref2","item","xs","md","height","position","overflow","background","concat","flexDirection","ml","price","flexGrow","fullWidth","disabled","some","sub","border","open","onClose","severity","value","onChange","e","target","placeholder"],"sources":["I:/VibeChat/frontend/src/components/billing/SubscriptionManager.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  Button,\r\n  Chip,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Alert,\r\n  Grid,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n} from '@mui/material';\r\nimport {\r\n  Star as StarIcon,\r\n  Check as CheckIcon,\r\n  Cancel as CancelIcon,\r\n  Payment as PaymentIcon,\r\n  Speed as SpeedIcon,\r\n  Hd as HdIcon,\r\n  FourK as FourKIcon,\r\n} from '@mui/icons-material';\r\nimport { useAuthStore } from '../../store/authStore';\r\nimport { useSubscriptionStore } from '../../store/subscriptionStore';\r\n\r\nconst SubscriptionManager: React.FC = () => {\r\n  const { user } = useAuthStore();\r\n  const {\r\n    subscriptions,\r\n    availableTiers,\r\n    isLoading,\r\n    error,\r\n    fetchSubscriptions,\r\n    fetchAvailableTiers,\r\n    purchaseSubscription,\r\n    cancelSubscription,\r\n    clearError,\r\n  } = useSubscriptionStore();\r\n\r\n  const [selectedTier, setSelectedTier] = useState<string>('');\r\n  const [paymentDialogOpen, setPaymentDialogOpen] = useState(false);\r\n  const [btcTransactionId, setBtcTransactionId] = useState('');\r\n  const [processingPayment, setProcessingPayment] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchSubscriptions();\r\n    fetchAvailableTiers();\r\n  }, [fetchSubscriptions, fetchAvailableTiers]);\r\n\r\n  const handlePurchase = async (tier: string) => {\r\n    setSelectedTier(tier);\r\n    setPaymentDialogOpen(true);\r\n  };\r\n\r\n  const handlePaymentConfirm = async () => {\r\n    if (!btcTransactionId.trim()) {\r\n      return;\r\n    }\r\n\r\n    setProcessingPayment(true);\r\n\r\n    try {\r\n      await purchaseSubscription({\r\n        tier: selectedTier as any,\r\n        paymentMethod: 'BTC',\r\n        btcTransactionId: btcTransactionId.trim(),\r\n      });\r\n\r\n      setPaymentDialogOpen(false);\r\n      setBtcTransactionId('');\r\n      setSelectedTier('');\r\n    } catch (error) {\r\n      console.error('Payment failed:', error);\r\n    } finally {\r\n      setProcessingPayment(false);\r\n    }\r\n  };\r\n\r\n  const handleCancelSubscription = async (subscriptionId: number) => {\r\n    try {\r\n      await cancelSubscription(subscriptionId);\r\n    } catch (error) {\r\n      console.error('Cancellation failed:', error);\r\n    }\r\n  };\r\n\r\n  const getTierIcon = (tier: string) => {\r\n    switch (tier) {\r\n      case 'BOOST_PLUS_TIER_2':\r\n        return <SpeedIcon />;\r\n      case 'BOOST_PLUS_TIER_3':\r\n        return <HdIcon />;\r\n      case 'BOOST_PLUS_TIER_4':\r\n        return <FourKIcon />;\r\n      case 'BOOST_PLUS_TIER_5':\r\n        return <StarIcon />;\r\n      default:\r\n        return <CheckIcon />;\r\n    }\r\n  };\r\n\r\n  const getTierColor = (tier: string) => {\r\n    switch (tier) {\r\n      case 'BOOST_PLUS_TIER_2':\r\n        return 'primary';\r\n      case 'BOOST_PLUS_TIER_3':\r\n        return 'secondary';\r\n      case 'BOOST_PLUS_TIER_4':\r\n        return 'warning';\r\n      case 'BOOST_PLUS_TIER_5':\r\n        return 'error';\r\n      default:\r\n        return 'default';\r\n    }\r\n  };\r\n\r\n  const getTierDisplayName = (tier: string) => {\r\n    const tierInfo = availableTiers[tier];\r\n    return tierInfo?.name || tier;\r\n  };\r\n\r\n  const getTierFeatures = (tier: string) => {\r\n    const tierInfo = availableTiers[tier];\r\n    return tierInfo?.features || '';\r\n  };\r\n\r\n  if (isLoading && subscriptions.length === 0) {\r\n    return (\r\n      <Container maxWidth=\"lg\">\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}>\r\n          <div className=\"spinner\" />\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\">\r\n      <Box sx={{ mt: 4, mb: 4 }}>\r\n        {/* Header */}\r\n        <Box sx={{ display: 'flex', alignItems: 'center', mb: 4 }}>\r\n          <PaymentIcon sx={{ fontSize: 40, color: 'primary.main', mr: 2 }} />\r\n          <Box>\r\n            <Typography variant=\"h4\" component=\"h1\" gutterBottom className=\"gradient-text\">\r\n              BOOST+ Subscriptions\r\n            </Typography>\r\n            <Typography variant=\"body1\" color=\"text.secondary\">\r\n              Unlock premium streaming features and enhanced capabilities\r\n            </Typography>\r\n          </Box>\r\n        </Box>\r\n\r\n        {/* Current Subscriptions */}\r\n        {subscriptions.length > 0 && (\r\n          <Card sx={{ mb: 4 }}>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Your Active Subscriptions\r\n              </Typography>\r\n              <List>\r\n                {subscriptions.map((subscription) => (\r\n                  <ListItem key={subscription.id} divider>\r\n                    <ListItemIcon>\r\n                      {getTierIcon(subscription.tier)}\r\n                    </ListItemIcon>\r\n                    <ListItemText\r\n                      primary={\r\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                          <Typography variant=\"subtitle1\">\r\n                            {getTierDisplayName(subscription.tier)}\r\n                          </Typography>\r\n                          <Chip\r\n                            label={subscription.status}\r\n                            color={subscription.status === 'ACTIVE' ? 'success' : 'default'}\r\n                            size=\"small\"\r\n                          />\r\n                        </Box>\r\n                      }\r\n                      secondary={\r\n                        <Box>\r\n                          <Typography variant=\"body2\" color=\"text.secondary\">\r\n                            {subscription.features}\r\n                          </Typography>\r\n                          <Typography variant=\"caption\" color=\"text.secondary\">\r\n                            Valid until: {new Date(subscription.endDate || '').toLocaleDateString()}\r\n                          </Typography>\r\n                        </Box>\r\n                      }\r\n                    />\r\n                    {subscription.status === 'ACTIVE' && (\r\n                      <Button\r\n                        variant=\"outlined\"\r\n                        color=\"error\"\r\n                        size=\"small\"\r\n                        onClick={() => handleCancelSubscription(subscription.id)}\r\n                      >\r\n                        Cancel\r\n                      </Button>\r\n                    )}\r\n                  </ListItem>\r\n                ))}\r\n              </List>\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n\r\n        {/* Available Tiers */}\r\n        <Typography variant=\"h6\" gutterBottom>\r\n          Available BOOST+ Tiers\r\n        </Typography>\r\n\r\n        <Grid container spacing={3}>\r\n          {Object.entries(availableTiers)\r\n            .filter(([tier]) => tier !== 'FREE')\r\n            .map(([tier, tierInfo]) => (\r\n              <Grid item xs={12} md={6} key={tier}>\r\n                <Card\r\n                  className=\"card-3d\"\r\n                  sx={{\r\n                    height: '100%',\r\n                    position: 'relative',\r\n                    overflow: 'hidden',\r\n                    background: `linear-gradient(135deg, ${\r\n                      tier === 'BOOST_PLUS_TIER_2' ? '#8B5CF6' :\r\n                      tier === 'BOOST_PLUS_TIER_3' ? '#EC4899' :\r\n                      tier === 'BOOST_PLUS_TIER_4' ? '#F59E0B' : '#EF4444'\r\n                    } 0%, rgba(15, 23, 42, 0.9) 100%)`,\r\n                  }}\r\n                >\r\n                  <CardContent sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n                      {getTierIcon(tier)}\r\n                      <Typography variant=\"h6\" sx={{ ml: 1, color: 'white' }}>\r\n                        {tierInfo.name}\r\n                      </Typography>\r\n                    </Box>\r\n\r\n                    <Typography variant=\"h4\" sx={{ color: 'white', mb: 2 }}>\r\n                      ${tierInfo.price}\r\n                      <Typography variant=\"body2\" component=\"span\" sx={{ color: 'rgba(255,255,255,0.7)' }}>\r\n                        /month\r\n                      </Typography>\r\n                    </Typography>\r\n\r\n                    <Typography variant=\"body2\" sx={{ color: 'rgba(255,255,255,0.8)', mb: 2, flexGrow: 1 }}>\r\n                      {tierInfo.features}\r\n                    </Typography>\r\n\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      fullWidth\r\n                      onClick={() => handlePurchase(tier)}\r\n                      disabled={subscriptions.some(sub => sub.tier === tier && sub.status === 'ACTIVE')}\r\n                      sx={{\r\n                        background: 'rgba(255,255,255,0.2)',\r\n                        color: 'white',\r\n                        border: '1px solid rgba(255,255,255,0.3)',\r\n                        '&:hover': {\r\n                          background: 'rgba(255,255,255,0.3)',\r\n                        },\r\n                      }}\r\n                    >\r\n                      {subscriptions.some(sub => sub.tier === tier && sub.status === 'ACTIVE')\r\n                        ? 'Already Subscribed'\r\n                        : 'Subscribe Now'}\r\n                    </Button>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n            ))}\r\n        </Grid>\r\n\r\n        {/* Payment Dialog */}\r\n        <Dialog open={paymentDialogOpen} onClose={() => setPaymentDialogOpen(false)} maxWidth=\"sm\" fullWidth>\r\n          <DialogTitle>\r\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n              <PaymentIcon />\r\n              Purchase BOOST+ Subscription\r\n            </Box>\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            {selectedTier && availableTiers[selectedTier] && (\r\n              <Box>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  {availableTiers[selectedTier].name}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n                  {availableTiers[selectedTier].features}\r\n                </Typography>\r\n\r\n                <Alert severity=\"info\" sx={{ mb: 3 }}>\r\n                  <Typography variant=\"body2\">\r\n                    <strong>Bitcoin Payment Required</strong><br />\r\n                    Send ${availableTiers[selectedTier].price} to wallet: <code>1M9mactBVv4ygScFxzHbEsXHcvvH8WrvPG</code>\r\n                  </Typography>\r\n                </Alert>\r\n\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Bitcoin Transaction ID\"\r\n                  value={btcTransactionId}\r\n                  onChange={(e) => setBtcTransactionId(e.target.value)}\r\n                  placeholder=\"Enter your BTC transaction ID\"\r\n                  sx={{ mb: 2 }}\r\n                />\r\n\r\n                <Alert severity=\"warning\">\r\n                  <Typography variant=\"body2\">\r\n                    Please wait for 1-3 confirmations before entering your transaction ID.\r\n                    Your subscription will be activated once payment is verified.\r\n                  </Typography>\r\n                </Alert>\r\n              </Box>\r\n            )}\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={() => setPaymentDialogOpen(false)}>\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              onClick={handlePaymentConfirm}\r\n              variant=\"contained\"\r\n              disabled={!btcTransactionId.trim() || processingPayment}\r\n            >\r\n              {processingPayment ? 'Processing...' : 'Confirm Payment'}\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        {/* Error Display */}\r\n        {error && (\r\n          <Alert severity=\"error\" sx={{ mt: 2 }} onClose={clearError}>\r\n            {error}\r\n          </Alert>\r\n        )}\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SubscriptionManager;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}